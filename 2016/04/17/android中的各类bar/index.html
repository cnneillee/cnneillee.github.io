<!DOCTYPE html>
<html lang="zh">
    <head>
    <!-- 
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.3.0 -->

    <!-- Title -->
    
    <title>
        
            Android 中的各类 Bar | 
        
        NeilLee&#39;s blog
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!-- Meta & Info -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="Neil Lee">
    <meta name="description" content="null">
    <meta name="keywords" content="null,android">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="NeilLee&#39;s blog">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://cnneillee.github.io">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Android 中的各类 Bar | NeilLee&#39;s blog">
    <meta property="og:description" content="null">
    <meta property="og:article:tag" content="android"> 

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS -->
    <link rel="stylesheet" href="/css/material.min.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <!-- Config CSS -->


<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }
</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(http://oltjxlyku.bkt.clouddn.com/bg.jpg);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>



    <script src="/js/jquery.min.js"></script>
    <script src="/js/queue.js"></script>

    <!-- UC Browser Compatible -->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write("<link rel=\"stylesheet\" href=\"/css/uc.css\">");
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    
    <!-- Baidu Analytics -->
    <script>
        var _hmt = _hmt || [];
        (function() {var hm = document.createElement('script');
        hm.src = 'https://hm.baidu.com/hm.js?B51Mj8cv5v';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(hm, s);
        })();
    </script>
    

    

    <!-- Bing Background -->
    

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#一、ToolBar"><span class="post-toc-number">1.</span> <span class="post-toc-text">一、ToolBar</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-1-概述"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">1.1 概述</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-2-使用方法"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">1.2 使用方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-1-导包-配置Gradle"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text">1.2.1 导包(配置Gradle)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-2-在AndroidManifest-xml设置此Activity的主题"><span class="post-toc-number">1.2.2.</span> <span class="post-toc-text">1.2.2 在AndroidManifest.xml设置此Activity的主题</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-3-重定义主题-颜色等信息"><span class="post-toc-number">1.2.3.</span> <span class="post-toc-text">1.2.3 重定义主题(颜色等信息)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-4-ToolBarxml文件中定义"><span class="post-toc-number">1.2.4.</span> <span class="post-toc-text">1.2.4 ToolBarxml文件中定义</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-5-java代码中实现"><span class="post-toc-number">1.2.5.</span> <span class="post-toc-text">1.2.5 java代码中实现</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-3-参考文章"><span class="post-toc-number">1.2.6.</span> <span class="post-toc-text">1.3 参考文章</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#二、ActionBar"><span class="post-toc-number">2.</span> <span class="post-toc-text">二、ActionBar</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-1-概述"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">2.1 概述</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-2、使用方法"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">2.2、使用方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-2-1低版本（API11）"><span class="post-toc-number">2.2.1.</span> <span class="post-toc-text">2.2.1低版本（API11）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-2-1创建Actions"><span class="post-toc-number">2.2.2.</span> <span class="post-toc-text">2.2.1创建Actions</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-2-2-Action的按钮交互"><span class="post-toc-number">2.2.3.</span> <span class="post-toc-text">2.2.2 Action的按钮交互</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-3-自定义ActionBar"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">2.3 自定义ActionBar</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-3-1-隐藏与显现"><span class="post-toc-number">2.3.1.</span> <span class="post-toc-text">2.3.1 隐藏与显现</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-3-2-改变title"><span class="post-toc-number">2.3.2.</span> <span class="post-toc-text">2.3.2 改变title</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-3-3-隐藏导航"><span class="post-toc-number">2.3.3.</span> <span class="post-toc-text">2.3.3 隐藏导航</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-3-4-使用全屏模式"><span class="post-toc-number">2.3.4.</span> <span class="post-toc-text">2.3.4 使用全屏模式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-3-4-使用Split-action-bar"><span class="post-toc-number">2.3.5.</span> <span class="post-toc-text">2.3.4 使用Split action bar</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-4-在Fragment中给action-bar添加action"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">2.4 在Fragment中给action bar添加action</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-5-动态设置action-bar"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">2.5 动态设置action bar</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-5-1-自定义View"><span class="post-toc-number">2.5.1.</span> <span class="post-toc-text">2.5.1 自定义View</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-5-2-Action-View（示例见参考文章）"><span class="post-toc-number">2.5.2.</span> <span class="post-toc-text">2.5.2 Action View（示例见参考文章）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-5-3-Action-Provider（示例见参考文章）"><span class="post-toc-number">2.5.3.</span> <span class="post-toc-text">2.5.3 Action Provider（示例见参考文章）</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-6-使用程序图标导航"><span class="post-toc-number">2.6.</span> <span class="post-toc-text">2.6 使用程序图标导航</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-6-1-使用程序图标作为-home-icon"><span class="post-toc-number">2.6.1.</span> <span class="post-toc-text">2.6.1 使用程序图标作为 home icon</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-7-参考文章："><span class="post-toc-number">2.7.</span> <span class="post-toc-text">2.7 参考文章：</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#特别说明"><span class="post-toc-number">3.</span> <span class="post-toc-text">特别说明</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#三、StatusBar"><span class="post-toc-number">4.</span> <span class="post-toc-text">三、StatusBar</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#四、NavigationBar"><span class="post-toc-number">5.</span> <span class="post-toc-text">四、NavigationBar</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-1-兼容性"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">4.1 兼容性</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-2-沉浸式体验"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">4.2 沉浸式体验</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-3-使用实例"><span class="post-toc-number">5.3.</span> <span class="post-toc-text">4.3 使用实例</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-3-1-style-配置"><span class="post-toc-number">5.3.1.</span> <span class="post-toc-text">4.3.1 style 配置</span></a></li></ol></li></ol></li></ol>

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script>
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').css('background-image', 'url(' + '/img/random/material-' + randomNum + '.png' + ')');
</script>

        
    
            <p class="article-headline-p">
                Android 中的各类 Bar
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Neil Lee</strong>
        <span>4月 17, 2016</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
            <i class="material-icons" role="presentation">devices other</i>
            <span class="visuallyhidden">devices other</span>
        </button>
        <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
            <li class="mdl-menu__item">在其它设备中阅读本文章</li>
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAAC0UlEQVR42u3aQW7DMAwEwPz/0+21QBtnSRpFIo5OheG4Gl0WJPX4Wrke2NjY2NjY2NjY2G/JfsTr96+un/zxj3+8U/3C79+W94yNjY19NDvf7rMju37Sw+eHnuwZGxsbewP7WQD0guf6UHox2dszNjY2Nnb177zUuX6nGnLY2NjY2Dn7WeQk5UESS3lDChsbGxt73tafDADyJ/kesLGxsXey83bP+/z9r/NtbGxs7DdmV1deiuTvJNFVLXv++F/Y2NjYh7LzYOg1enqNoWQAnO8TGxsb+2x23uLJm/LlDRVLoPxwsbGxsTewqyExHxvcG2aF+MTGxsY+lJ0DqgGWH0d1iFs9SmxsbOw97LuGvkmLfxKZveIHGxsb+1R2spU8QpLCoDpU6O2tPBXBxsbG/nB2tTWfX+upXsdJjinZ7ejOKTY2NvYHsidx8hiv+aAiGnhgY2NjL2Dnx1G9uFMtKnqFx4vjwMbGxl7DzttM1YHBpIFVLXKwsbGxd7KTAiOPkGqxkQ90m29iY2NjL2DPR7m9SzzJm0mkFS5fYmNjY69hTwB5m6n6zeoFUGxsbOyz2T3GvU2fya8Ke8PGxsZexq4WHpMRb+87o8uX2NjY2Aexe6RkGJBQ86ZSPrpoDnqxsbGxP5w9iaLCpZnxhc5eHGJjY2NvYH8FazLKTQYPhUZ/b/CAjY2NvYDdKxvuetIbKt985xQbGxv7UHYSbL0vTIKqGmPY2NjY29i9pk8SPzl4vrCxsbE3sKsrCZU8eK4PZTIMfhFg2NjY2Aexm2FQvKCZD5J7Q+JmbmNjY2MfxO6FVg6YHF8+NnihwMbGxl7AngPyEqIaRdWgLffSsLGxsVeyq/GTPEmitDrSwMbGxsbuXcqZfy0PwqQ4wcbGxt7ATgqGpCXUG83m7zcPFBsbG/todvXTk9irtqUm7SdsbGzsDew9CxsbGxsbGxsbG/tt1jcn2Jrd9CMvJwAAAABJRU5ErkJggg==">
        </ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/android/">android</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    
    <!-- Leancloud Views -->
        <a class="post_share-link" href="#">
            <li class="mdl-menu__item">
                <span id="/2016/04/17/android中的各类bar/" class="leancloud-views_num" data-flag-title="Android 中的各类 Bar">
     &nbsp;浏览量
</span>

            </li>
        </a>
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Android 中的各类 Bar&url=http://cnneillee.github.io//2016/04/17/android中的各类bar/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Android 中的各类 Bar&url=http://cnneillee.github.io//2016/04/17/android中的各类bar/index.html&via=Neil Lee" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://cnneillee.github.io//2016/04/17/android中的各类bar/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://cnneillee.github.io//2016/04/17/android中的各类bar/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=http://cnneillee.github.io//2016/04/17/android中的各类bar/index.html&title=Android 中的各类 Bar" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=NeilLee&#39;s blog&title=Android 中的各类 Bar&summary=null&pics=http://cnneillee.github.io/img/favicon.png&url=http://cnneillee.github.io/2016/04/17/android中的各类bar/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="一、ToolBar"><a href="#一、ToolBar" class="headerlink" title="一、ToolBar"></a>一、ToolBar</h1><h2 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h2><p>Google在2015的IO大会上发布了系列的Material<br>Design风格的控件。其中ToolBar是替代ActionBar的控件。由于ActionBar在各个安卓版本和定制Rom中的效果表现不一，导致严重的碎片化问题，ToolBar应运而生。</p>
<p><strong>与ActionBar区别</strong><br>显示效果跟ActionBar并没有区别。<br>优点：自定义视图的操作更加简单，状态栏的颜色可以调（Android 4.4以上）。</p>
<h2 id="1-2-使用方法"><a href="#1-2-使用方法" class="headerlink" title="1.2 使用方法"></a>1.2 使用方法</h2><h3 id="1-2-1-导包-配置Gradle"><a href="#1-2-1-导包-配置Gradle" class="headerlink" title="1.2.1 导包(配置Gradle)"></a>1.2.1 导包(配置Gradle)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile &apos;com.android.support:appcompat-v7:22.0.0&apos;</span><br></pre></td></tr></table></figure>
<h3 id="1-2-2-在AndroidManifest-xml设置此Activity的主题"><a href="#1-2-2-在AndroidManifest-xml设置此Activity的主题" class="headerlink" title="1.2.2 在AndroidManifest.xml设置此Activity的主题"></a>1.2.2 在AndroidManifest.xml设置此Activity的主题</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;</span><br><span class="line">&lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;</span><br></pre></td></tr></table></figure>
<p>注意：务必将ActionBar消除，否则Activity将会崩溃</p>
<h3 id="1-2-3-重定义主题-颜色等信息"><a href="#1-2-3-重定义主题-颜色等信息" class="headerlink" title="1.2.3 重定义主题(颜色等信息)"></a>1.2.3 重定义主题(颜色等信息)</h3><p>Android 4.4及以上，在values文件夹中新建values-v19.xml，内容如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;resources&gt;</span><br><span class="line">	&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;</span><br><span class="line">		&lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;</span><br><span class="line">		&lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;</span><br><span class="line">		&lt;!--Toolbar颜色--&gt;</span><br><span class="line">		&lt;item name=&quot;colorPrimary&quot;&gt;@android:color/holo_blue_bright&lt;/item&gt;</span><br><span class="line">		&lt;!-- 状态栏颜色 --&gt;</span><br><span class="line">		&lt;item name=&quot;colorPrimaryDark&quot;&gt;@android:color/holo_blue_bright&lt;/item&gt;</span><br><span class="line">		&lt;item name=&quot;android:windowTranslucentNavigation&quot;&gt;true&lt;/item&gt;</span><br><span class="line">		&lt;item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;</span><br><span class="line">	&lt;/style&gt;</span><br><span class="line">&lt;/resources&gt;</span><br></pre></td></tr></table></figure></p>
<p>Android 4.4以下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;resources&gt;</span><br><span class="line">	&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;</span><br><span class="line">		&lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;</span><br><span class="line">		&lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;</span><br><span class="line">		&lt;!--Toolbar颜色--&gt;</span><br><span class="line">		&lt;item name=&quot;colorPrimary&quot;&gt;@color/Indigo_colorPrimary&lt;/item&gt;</span><br><span class="line">	&lt;/style&gt;</span><br><span class="line">&lt;/resources&gt;</span><br></pre></td></tr></table></figure>
<h3 id="1-2-4-ToolBarxml文件中定义"><a href="#1-2-4-ToolBarxml文件中定义" class="headerlink" title="1.2.4 ToolBarxml文件中定义"></a>1.2.4 ToolBarxml文件中定义</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;  </span><br><span class="line">&lt;android.support.v7.widget.Toolbar xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;  </span><br><span class="line">	android:id=&quot;@+id/toolbar&quot;  </span><br><span class="line">	android:layout_height=&quot;wrap_content&quot;  </span><br><span class="line">	android:layout_width=&quot;match_parent&quot;  </span><br><span class="line">	android:background=&quot;?attr/colorPrimary&quot;  //设置toolbar的背景颜色</span><br><span class="line">	android:minHeight=&quot;?android:attr/actionBarSize&quot;&gt;  &lt;!-- 最小高度 --&gt;</span><br><span class="line">&lt;/android.support.v7.widget.Toolbar&gt;</span><br></pre></td></tr></table></figure>
<p><code>android:fitsSystemWindows=&quot;true&quot;</code>防止ToolBar与StatusBar融合</p>
<h3 id="1-2-5-java代码中实现"><a href="#1-2-5-java代码中实现" class="headerlink" title="1.2.5 java代码中实现"></a>1.2.5 java代码中实现</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">private Toolbar mToolbar;  </span><br><span class="line">private WebFragment mWebFragment;  </span><br><span class="line">private long mBeforeTime;  </span><br><span class="line">@Override  </span><br><span class="line">protected void onCreate(Bundle savedInstanceState) &#123;  </span><br><span class="line">	super.onCreate(savedInstanceState);  </span><br><span class="line">	setContentView(R.layout.activity_main);</span><br><span class="line">	if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) &#123;  //版本检测</span><br><span class="line">		SystemBarTintManager tintManager = new SystemBarTintManager(this);  </span><br><span class="line">		mToolbar = (Toolbar) findViewById(R.id.toolbar);  </span><br><span class="line">		tintManager.setStatusBarTintEnabled(true);  //更改状态栏设置</span><br><span class="line">		setSupportActionBar(mToolbar);  //将ToolBar设置成ActionBar</span><br><span class="line">		tintManager.setStatusBarTintResource(android.R.color.holo_blue_bright);  </span><br><span class="line">	&#125;  </span><br><span class="line">	getSupportActionBar().setHomeButtonEnabled(true); //设置返回键可用  </span><br><span class="line">	getSupportActionBar().setDisplayHomeAsUpEnabled(true);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-3-参考文章"><a href="#1-3-参考文章" class="headerlink" title="1.3 参考文章"></a>1.3 参考文章</h3><p><a href="http://blog.csdn.net/qq284565035/article/details/47086439" target="_blank" rel="external">http://blog.csdn.net/qq284565035/article/details/47086439</a><br><a href="http://www.itstrike.cn/Question/9ae75549-b316-4844-938e-c22c0f4e6692.html" target="_blank" rel="external">http://www.itstrike.cn/Question/9ae75549-b316-4844-938e-c22c0f4e6692.html</a></p>
<h1 id="二、ActionBar"><a href="#二、ActionBar" class="headerlink" title="二、ActionBar"></a>二、ActionBar</h1><h2 id="2-1-概述"><a href="#2-1-概述" class="headerlink" title="2.1 概述"></a>2.1 概述</h2><p>ActionBar位于Activity的顶部，可用来显示activity的标题、Icon、Actions和一些用于交互的View。它也可被用于应用的导航。<br>ActionBar 是在Android 3.0(API<br>11）中加入到SK中的，想在低版本中使用ActionBar有两种选择：使用<a href="http://actionbarsherlock.com" target="_blank" rel="external">http://actionbarsherlock.com</a> 或使用Support<br>Library v7。</p>
<p>图示：<br><img src="http://img.blog.csdn.net/20140606151823031?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYmlnY29udmllbmNl/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br>其中，[1]是ActionBar的图标，[2]是两个action按钮，[3]是overflow按钮</p>
<h2 id="2-2、使用方法"><a href="#2-2、使用方法" class="headerlink" title="2.2、使用方法"></a>2.2、使用方法</h2><h3 id="2-2-1低版本（API11）"><a href="#2-2-1低版本（API11）" class="headerlink" title="2.2.1低版本（API11）"></a>2.2.1低版本（API11）</h3><p>开发API11以下的程序，首先必须在AndroidManifest.xml中指定Application或Activity的theme是Theme.Holo或其子类，否则将无法使用ActionBar。</p>
<h3 id="2-2-1创建Actions"><a href="#2-2-1创建Actions" class="headerlink" title="2.2.1创建Actions"></a>2.2.1创建Actions</h3><p>类似于Menu即可在java代码中添加，也可在xml文件中添加。下面贴上xml代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;  </span><br><span class="line">	&lt;item  </span><br><span class="line">		android:id=&quot;@+id/action_refresh&quot;  </span><br><span class="line">		android:orderInCategory=&quot;100&quot;  </span><br><span class="line">  		android:showAsAction=&quot;always&quot;  </span><br><span class="line">		android:icon=&quot;@drawable/ic_action_refresh&quot;  </span><br><span class="line">		android:title=&quot;Refresh&quot;/&gt;  </span><br><span class="line">	&lt;item  </span><br><span class="line">		android:id=&quot;@+id/action_settings&quot;  </span><br><span class="line">		android:title=&quot;Settings&quot;&gt;  </span><br><span class="line">	&lt;/item&gt;  </span><br><span class="line">&lt;/menu&gt;</span><br></pre></td></tr></table></figure>
<p>说明：</p>
<ul>
<li>showAsAction 属性（定义每个 Action 是如何显示的） </li>
<li>always 表示永远显示在 ActionBar 中，如果屏幕空间不够则无法显示</li>
<li>ifRoom 表示屏幕空间够的情况下显示在 ActionBar 中，不够的话就显示在 overflow 中</li>
<li>never 则表示永远显示在 overflow 中</li>
</ul>
<p>在java代码中,通过重写onCreateOptionsMenu，以使用上面的menu<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Override  </span><br><span class="line">public boolean onCreateOptionsMenu(Menu menu) &#123;  </span><br><span class="line">	MenuInflater inflater = getMenuInflater();  </span><br><span class="line">	inflater.inflate(R.menu.mainmenu, menu);  </span><br><span class="line">	return true;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="2-2-2-Action的按钮交互"><a href="#2-2-2-Action的按钮交互" class="headerlink" title="2.2.2 Action的按钮交互"></a>2.2.2 Action的按钮交互</h3><p>如果一个Action被单击，对于activity中的onOptionsItemSelected()将被调用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">@Override  </span><br><span class="line">public boolean onOptionsItemSelected(MenuItem item) &#123;  </span><br><span class="line">	switch (item.getItemId()) &#123;  </span><br><span class="line">		// action with ID action_refresh was selected  </span><br><span class="line">		case R.id.action_refresh:  </span><br><span class="line">			Toast.makeText(this, &quot;Refresh selected&quot;, Toast.LENGTH_SHORT).show();  </span><br><span class="line">			break;  </span><br><span class="line">		// action with ID action_settings was selected  </span><br><span class="line">		case R.id.action_settings:  </span><br><span class="line">			Toast.makeText(this, &quot;Settings selected&quot;, Toast.LENG).show();  </span><br><span class="line">			break;  </span><br><span class="line">		default:  </span><br><span class="line">			break;  </span><br><span class="line">	&#125;  </span><br><span class="line">	return true;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>说明：<br>onCreateOptionsMenu() 只会被调用一次。若想改变 Menu，可以调用 invalidateOptionsMenu()，这会使 onCreateOptionsMenu() 将会再次被调用。</p>
<h2 id="2-3-自定义ActionBar"><a href="#2-3-自定义ActionBar" class="headerlink" title="2.3 自定义ActionBar"></a>2.3 自定义ActionBar</h2><h3 id="2-3-1-隐藏与显现"><a href="#2-3-1-隐藏与显现" class="headerlink" title="2.3.1 隐藏与显现"></a>2.3.1 隐藏与显现</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ActionBar actionBar = getActionBar();  </span><br><span class="line">actionBar.hide();  </span><br><span class="line">// more stuff here...  </span><br><span class="line">actionBar.show();</span><br></pre></td></tr></table></figure>
<h3 id="2-3-2-改变title"><a href="#2-3-2-改变title" class="headerlink" title="2.3.2 改变title"></a>2.3.2 改变title</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ActionBar actionBar = getActionBar();  </span><br><span class="line">actionBar.setSubtitle(&quot;mytest&quot;);  </span><br><span class="line">actionBar.setTitle(&quot;vogella.com&quot;);</span><br></pre></td></tr></table></figure>
<h3 id="2-3-3-隐藏导航"><a href="#2-3-3-隐藏导航" class="headerlink" title="2.3.3 隐藏导航"></a>2.3.3 隐藏导航</h3><p><code>getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);</code></p>
<h3 id="2-3-4-使用全屏模式"><a href="#2-3-4-使用全屏模式" class="headerlink" title="2.3.4 使用全屏模式"></a>2.3.4 使用全屏模式</h3><p>对于Android 4.4 (API 19)应用程序可以使用全屏模式，代码如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// This method hides the system bars and resize the content  </span><br><span class="line">private void hideSystemUI() &#123;  </span><br><span class="line">	getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN  </span><br><span class="line">                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION // hide nav bar  </span><br><span class="line">                | View.SYSTEM_UI_FLAG_FULLSCREEN // hide status bar  </span><br><span class="line">                // remove the following flag for version &lt; API 19  </span><br><span class="line">                | View.SYSTEM_UI_FLAG_IMMERSIVE);   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-3-4-使用Split-action-bar"><a href="#2-3-4-使用Split-action-bar" class="headerlink" title="2.3.4 使用Split action bar"></a>2.3.4 使用Split action bar</h3><p>启用split action bar可在 AndroidManifest.xml 中定义 <code>android:uiOptions=&quot;SplitActionBarWhenNarrow&quot;</code> </p>
<p>参阅 <a href="http://blog.csdn.net/lsdmx2016/article/details/17415911" target="_blank" rel="external">http://blog.csdn.net/lsdmx2016/article/details/17415911</a></p>
<h2 id="2-4-在Fragment中给action-bar添加action"><a href="#2-4-在Fragment中给action-bar添加action" class="headerlink" title="2.4 在Fragment中给action bar添加action"></a>2.4 在Fragment中给action bar添加action</h2><p>在 onCreate() 中调用 setHasOptionsMenu(true)。Android Framework 会调用 Fragement 中的 onCreateOptionsMenu() 来向 Activity 的 Menu 中添加 item。</p>
<h2 id="2-5-动态设置action-bar"><a href="#2-5-动态设置action-bar" class="headerlink" title="2.5 动态设置action bar"></a>2.5 动态设置action bar</h2><h3 id="2-5-1-自定义View"><a href="#2-5-1-自定义View" class="headerlink" title="2.5.1 自定义View"></a>2.5.1 自定义View</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">actionBar.setCustomView(R.layout.actionbar_view);  </span><br><span class="line">EditText search = (EditText) actionBar.getCustomView().findViewById(R.id.searchfield);</span><br></pre></td></tr></table></figure>
<h3 id="2-5-2-Action-View（示例见参考文章）"><a href="#2-5-2-Action-View（示例见参考文章）" class="headerlink" title="2.5.2 Action View（示例见参考文章）"></a>2.5.2 Action View（示例见参考文章）</h3><p>Action View 控件可以替换 Action bar 的 Action 按钮图标。可以利用这个特点将某个 Action 项替换成一个 ProgressBar。可通过<code>android:actionLayout</code> 或 <code>android:actionViewClass</code> 来定义一个布局文件或Widg来作为 Action 的 action view。</p>
<h3 id="2-5-3-Action-Provider（示例见参考文章）"><a href="#2-5-3-Action-Provider（示例见参考文章）" class="headerlink" title="2.5.3 Action Provider（示例见参考文章）"></a>2.5.3 Action Provider（示例见参考文章）</h3><p>Action Provider 提供了在单个组件里提供多种交互方式的方法。它可以用来创建 action view，动态弹出子 menu，处理 action 调用事件。基类为 ActionProvider 目前 Android 平台提供两种 <code>action provider：MediaRouteActionProvider</code> 和 ShareActionProvider。  下面以一个例子计算 ShareActionProvider 的用法。使用这个 action provider 可以让程序从注册了 Intent.ACTION_SEND 的 Intent 中获取。</p>
<h2 id="2-6-使用程序图标导航"><a href="#2-6-使用程序图标导航" class="headerlink" title="2.6 使用程序图标导航"></a>2.6 使用程序图标导航</h2><h3 id="2-6-1-使用程序图标作为-home-icon"><a href="#2-6-1-使用程序图标作为-home-icon" class="headerlink" title="2.6.1 使用程序图标作为 home icon"></a>2.6.1 使用程序图标作为 home icon</h3><p>Action Bar的左侧图标称为home icon，可为这个图标设置一个Action。推荐做法是当按了这个图标，返回到Home Activity中。</p>
<p>&gt;<br>actionBar.setHomeButtonEnabled(true);//或者使用actionBar.setDisplayHomeAsUpEnabled(true);</p>
<pre><code>在onOptionsMenuItemSelected() 中使用android.R.id.home并启用actionbar的HomeIcon
case android.R.id.home:  
</code></pre><h2 id="2-7-参考文章："><a href="#2-7-参考文章：" class="headerlink" title="2.7 参考文章："></a>2.7 参考文章：</h2><p>1、<a href="http://blog.csdn.net/bigconvience/article/details/28886241" target="_blank" rel="external">http://blog.csdn.net/bigconvience/article/details/28886241</a></p>
<h1 id="特别说明"><a href="#特别说明" class="headerlink" title="特别说明"></a>特别说明</h1><p>1、Android Studio 中按照默认的 Activity 启动时，不显示 ActionBar 的问题<br>在Eclipse新建一个 MainActivity extends Activity 时，能够正常显示 ActionBar，如图：<br><img src="http://img.blog.csdn.net/20150713093139859?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br>但在 AS 中 extends Activity，不显示 ActionBar，如图<br><img src="http://img.blog.csdn.net/20150713095251222" alt=""><br>但在 AS 中 extends ActionBarActivity，能够正常显示 ActionBar，但是会显示该类过时</p>
<p>推荐使用 extends AppCompatActivity</p>
<p>同样的代码在 Eclipse 和 Android Studio 中会出现较大差异，需要区别对待。<br>AppCompatActivity 是为了兼容性考虑！造成这种差异的原因是主题的问题！！！<br>在主题方面，还有很多不懂，今后加强学习</p>
<p>（参考文章：<a href="http://m.blog.csdn.net/article/details?id=46858249" target="_blank" rel="external">http://m.blog.csdn.net/article/details?id=46858249</a>）</p>
<h1 id="三、StatusBar"><a href="#三、StatusBar" class="headerlink" title="三、StatusBar"></a>三、StatusBar</h1><p><img src="http://images2015.cnblogs.com/blog/797098/201702/797098-20170219150953957-808054892.png" alt=""><br>StatusBar 是一个半透明阴影，View 可以伸展到其后面。</p>
<h1 id="四、NavigationBar"><a href="#四、NavigationBar" class="headerlink" title="四、NavigationBar"></a>四、NavigationBar</h1><p><img src="http://images2015.cnblogs.com/blog/797098/201702/797098-20170219151118191-1491914840.png" alt=""><br>NavigationBar 一般是纯黑不能使用的。Google 提供 NavigationBar 的透明与使用的可能，却没有推荐使用。个人觉得是为了给<br>Bottom navigation 做准备。这里不讨论 Bottom navigation 的优劣(我是 Bottom navigation 黑)。</p>
<h2 id="4-1-兼容性"><a href="#4-1-兼容性" class="headerlink" title="4.1 兼容性"></a>4.1 兼容性</h2><p>android 从 4.4 开始，开始支持UI使用 StatusBar 与 NavigationBar 的范围。</p>
<h2 id="4-2-沉浸式体验"><a href="#4-2-沉浸式体验" class="headerlink" title="4.2 沉浸式体验"></a>4.2 沉浸式体验</h2><h2 id="4-3-使用实例"><a href="#4-3-使用实例" class="headerlink" title="4.3 使用实例"></a>4.3 使用实例</h2><h3 id="4-3-1-style-配置"><a href="#4-3-1-style-配置" class="headerlink" title="4.3.1 style 配置"></a>4.3.1 style 配置</h3><p>在 value 中的 styles.xml 中设置：</p>
<p>在 value-v19 中的 styles.xml 中设置(为了兼容4.4)</p>
<p>在 value-v21 中的 styles.xml 中设置</p>
<hr>
<p><em>本文从我的另一个 blog <a href="http://www.cnblogs.com/neillee" target="_blank" rel="external">http://www.cnblogs.com/neillee</a> 中同步过来，同步过程使用了 python 脚本，文章<a href="http://cnneillee.github.io/2017/02/26/cnblogs%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB%E8%BF%87%E7%A8%8B/">cnblogs博客迁移过程</a>详细介绍了同步过程，并附有源码！</em></p>
<p><a href="http://www.cnblogs.com/neillee/p/5402091.html" target="_blank" rel="external">http://www.cnblogs.com/neillee/p/5402091.html</a></p>
<p><em>截至博客迁移时，cnblogs上的访问量为：3307</em></p>
<hr>

    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用多说评论 -->
    <link rel="stylesheet" href="/css/duoshuo.min.css">
<style>
    #ds-thread #ds-reset .ds-post-button{
        background-color: #0097A7 !important;
    }
    #ds-wrapper #ds-reset .ds-icons-32{
        background-color: #0097A7 !important;
    }
    #ds-reset .ds-highlight {
        color: #0097A7 !important;
    }
</style>
<div id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread"
        data-thread-key="2016/04/17/android中的各类bar/"
        data-url="http://cnneillee.github.io/2016/04/17/android中的各类bar/"
        data-title="Android 中的各类 Bar">
    </div>
    <!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
		var duoshuoQuery = {short_name:"neillee"};
		(function() {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';ds.async = true;
			ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0] 
			 || document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>






                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2016/04/18/HashMap封装的数据用循环快速添加进list中产生的数据集全部相同的问题/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2016/04/16/android中versioncode-versionname/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="Neil Lee's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        cn.neillee@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/" target="_self">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">15</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/01/">一月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/12/">十二月 2016<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/11/">十一月 2016<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/10/">十月 2016<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">八月 2016<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">七月 2016<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/06/">六月 2016<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/05/">五月 2016<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/04/">四月 2016<span class="sidebar_archives-count">21</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/03/">三月 2016<span class="sidebar_archives-count">16</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Android/">Android<span class="sidebar_archives-count">44</span></a></li><li><a class="sidebar_archives-link" href="/categories/Big-Data/">Big Data<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/Daily/">Daily<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/categories/Database/">Database<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/categories/Hexo/">Hexo<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/Java/">Java<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/Linux/">Linux<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/categories/Network/">Network<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/Scripts/">Scripts<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/categories/Version-Control/">Version Control<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/资源与工具/">资源与工具<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/趣味与尝试/">趣味与尝试<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/趣味与常识/">趣味与常识<span class="sidebar_archives-count">3</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签云">
                
                    <i class="material-icons sidebar-material-icons">tag</i>
                
                标签云
            </a>
        </li>
        
            <li class="divider"></li>
        
    
        <li>
            <a href="/about" title="About">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                About
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-twitter.png);">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-facebook.png);">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-gplus.png);">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    
        <a href="http://weibo.com/u/2686015514" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-weibo.png);">
                <span class="visuallyhidden">Weibo</span>
            </button><!--
     --></a>
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/cnneillee" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-github.png);">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    
        <a href="https://www.linkedin.com/in/%E6%9E%97%E8%8C%82-%E6%9D%8E-564701134" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-linkedin.png);">
                <span class="visuallyhidden">LinkedIn</span>
            </button><!--
     --></a>
    

    <!-- Zhihu -->
    
        <a href="https://www.zhihu.com/people/neil-lee-34-58" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-zhihu.png);">
                <span class="visuallyhidden">Zhihu</span>
            </button><!--
     --></a>
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;NeilLee's blog
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->
<script src="/js/lazyload.min.js"></script>
<script src="/js/js.min.js"></script>
<script src="/js/nprogress.js"></script>

<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>





    <!-- Leancloud -->
    <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
    <script>
        AV.initialize('lUtNsIH5GOeqlwlXiIOLJgtm-gzGzoHsz', 'RoMAOm5BK3k1m6DGYVca7usg');
    </script>
    <script>
    function showTime(Counter) {
        var query = new AV.Query(Counter);
        $('.leancloud-views_num').each(function() {
            var url = $(this).attr('id').trim();
            query.equalTo('url', url);
            query.find({
                success: function(results) {
                    if (results.length === 0) {
                        var content = '0 ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                        return;
                    }
                    for (var i = 0; i < results.length; i++) {
                        var object = results[i];
                        var content = object.get('time') + ' ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                    }
                },
                error: function(object, error) {
                    console.log('Error: ' + error.code + ' ' + error.message);
                }
            });
        });
    }

    function addCount(Counter) {
      var Counter = AV.Object.extend('Counter');
      url = $('.leancloud-views_num').attr('id').trim();
      title = $('.leancloud-views_num').attr('data-flag-title').trim();
      var query = new AV.Query(Counter);
      query.equalTo('url', url);
      query.find({
          success: function(results) {
            if (results.length > 0) {
                var counter = results[0];
                counter.fetchWhenSave(true);
                counter.increment('time');
                counter.save(null, {
                    success: function(counter) {
                        var content =  counter.get('time') + ' ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                    },
                    error: function(counter, error) {
                        console.log('Failed to save Visitor num, with error message: ' + error.message);
                    }
                });
            } else {
              var newcounter = new Counter();
              newcounter.set('title', title);
              newcounter.set('url', url);
              newcounter.set('time', 1);
              newcounter.save(null, {
                  success: function(newcounter) {
                      console.log('newcounter.get(\'time\')='+newcounter.get('time'));
                      var content = newcounter.get('time') + ' ' + $(document.getElementById(url)).text();
                      $(document.getElementById(url)).text(content);
                  },
                  error: function(newcounter, error) {
                      console.log('Failed to create');
                  }
              });
            }
        },
        error: function(error) {
            console.log('Error:' + error.code + ' ' + error.message);
        }
      });
    }
    $(function() {
        var Counter = AV.Object.extend('Counter');
        if ($('.leancloud-views_num').length === 1) {
            addCount(Counter);
        } else if ($('.post-title-link').length > 1) {
            showTime(Counter);
        }
    });
</script>






    <!-- 多说公共 js 代码 start -->
    <script type="text/javascript">
        queue.offer(function(){
            var duoshuoQuery = {
                short_name: 'neillee'
            };
            (function() {
                var ds = document.createElement('script');
                ds.type = 'text/javascript';
                ds.async = true;
                ds.src = 'https://static.duoshuo.com/embed.js';
                ds.charset = 'UTF-8';
                (document.getElementsByTagName('head')[0]
                 || document.getElementsByTagName('body')[0]).appendChild(ds);
            })();
        });
    </script>
    <!-- 多说公共 js 代码 end -->





<!-- Swiftye -->


<!-- Local Search-->


<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->


                </main>
            </div>
        </body>
    
</html>
